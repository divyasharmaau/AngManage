
<div class="container-fluid">
    <div class="card shadow-lg p-3 mb-5" *ngIf="leaveEdited">
        <span class="text-center">{{successMessage}}</span>
        <p class="text-center home-link mt-2" [routerLink] = "['/home/leaveList']" >Back to Leave List</p>
    </div>
   
    <div *ngIf="!leaveEdited">
        <form class="form-container" [formGroup]="form" (ngSubmit)="onSubmit()">
   
            <mat-card>
                <mat-card-header>
                    <mat-card-title>Edit Leave</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    
                    <div class="row mb-3 mt-3">
                        <div class="col-md-6">
                                <mat-form-field class="full-width" appearance="standard">
                                    <mat-label>Date On Which Applied</mat-label>
                                    <input formControlName="currentDate" matInput placeholder="Date Applied" readonly>
                                </mat-form-field>
                        </div>
                        
                        <div class="col-md-6">
                            <!-- <mat-label class="mb-2 applyLeaveLabel">Joining Date</mat-label>:  -->
                            <!-- <span>{{leaveDetails.joiningDate | date: 'dd MMM yyyy'}}</span> -->
                            <mat-form-field class="full-width"  appearance="standard">
                                <mat-label>Joining Date</mat-label> 
                                <input formControlName="joiningDate"  matInput  placeholder="Joining Date" readonly>
                            </mat-form-field>
                        </div>
                    </div>

                    <!--Date Requested For-->
                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field class="full-width" appearance="standard">
                                <mat-label>From Date</mat-label>
                                <input formControlName="fromDate" matInput placeholder="From date" readonly>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field class="full-width" appearance="standard">
                                <mat-label>Till Date</mat-label>
                                <input formControlName="tillDate" matInput placeholder="Till Date" readonly>
                            </mat-form-field>
                        </div>
                    </div>

                      <!--Leave Type and Leave Duration-->
                      <div class="row">
                        <div class="col-md-6">
                            <mat-form-field class="full-width" appearance="standard">
                                <mat-label>Leave Type</mat-label>
                                <input formControlName="leaveType" matInput placeholder="Leave Type" readonly>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field class="full-width" appearance="standard">
                                <mat-label>Duration</mat-label>
                                <input formControlName="duration" matInput placeholder="Duration" readonly>
                            </mat-form-field>
                        </div>
                    </div>
                    <!--Reason-->
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field class="full-width" appearance="standard">
                                <mat-label>Reason</mat-label>
                                <input formControlName="reason" matInput placeholder="Reason" readonly>
                            </mat-form-field>
                        </div>
                    </div>

                            <!--Comment-->
                            <div class="row">
                                <div class="col-md-12">
                                    <mat-form-field class="full-width" appearance="standard">
                                        <mat-label>Comment</mat-label>
                                        <input formControlName="comment" required matInput placeholder="Comment">
                                        <mat-error *ngIf="hasError('comment')" class="error-block">
                                            Comment is a required field
                                           </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>


         <!--Leave Status-->
                     <div class="row">
                        <div class="col-md-12">
                            <mat-form-field class="full-width" appearance="standard">
                                <mat-label>Leave Status</mat-label>
                                <input formControlName="leaveStatus" matInput placeholder="Leave Status" readonly>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-6">
                            <mat-label class="mt-3 otherLabel">Leave Balance</mat-label><br>
                            <ul>
                                <li>
                                   Annual Leave Balance:
                                   <!-- <input formControlName="balanceAnnualLeave" matInput placeholder="balanceAnnualLeave" readonly> -->
                                    <span>{{leaveDetails.balanceAnnualLeave | number : '1.2-2'}}</span> <br>
                                </li>
                                <li>
                                   
                                    Sick Leave Balance :
                                     <!-- <input formControlName="balanceSickLeave" matInput placeholder="balanceSickLeave" readonly> -->
                                     :<span>{{leaveDetails.balanceSickLeave | number : '1.2-2' }}</span>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <mat-label for="filePath" class="otherLabel">File</mat-label>
                                <input formControlName="filePath" matInput  placeholder="file" redaonly> 
                            </div>
                        </div>
                 
                     
                    </div>
                    <div class="row mt-2">
                       
                    </div>
                    <!--Submit-->
                    <mat-card-actions>
                        
                        <button mat-stroked-button class="edit-button" id="approvedId" *ngIf = "approveButton" 
                        formControlName="approved"  type="submit">Approved</button>

                        <button mat-stroked-button class="decline-button" id="declinedId" *ngIf ="declineButton" 
                        formControlName="declined" type="submit">Declined</button>
                    </mat-card-actions>
                </mat-card-content>
            </mat-card>
    
        </form>
    </div>

</div>

